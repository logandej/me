---
layout: default
---
<!-- style="background-image: url('{{ site.baseurl }}{{ page.projectTileBgImg }}')" -->
<div class="project-page"  >
  <header class="project-header" >

     <!-- Vidéo en arrière-plan -->
    <video class="header-video" autoplay loop muted playsinline>
      <source src="{{ page.projectVideoUrl | relative_url }}" type="video/mp4">
      <img src="{{ page.projectTileBgImg | relative_url }}" alt="">
    </video>
  
  <!-- Overlay optionnel pour améliorer la lisibilité du texte -->
  <div class="header-overlay"></div>
    <div>
    <h1>{{ page.title }}</h1>

      <p class="project-meta"> {{ page.date | date: "%d %B %Y" }} — <em>{{ site.categories[page.categorie] }}</em></p>
    {% if page.description %}
      <p class="project-description">{{ page.description }}</p>
    {% endif %}  
    </div> 
  </header>


  
<div class="project-content">
<article>

{% assign all_media = page.videos %}{% if page.images %}{% assign all_media = all_media | concat: page.images %}{% endif %}
{% if all_media.size > 0 %}
<section class="project-gallery">  
  <div class="project-carousel" id="carousel" role="region" aria-label="Galerie multimédia">
    <div class="row">
      <button class="carousel-btn prev" aria-label="Média précédent" aria-controls="carousel-track">‹</button>
      <div class="carousel-viewport" aria-live="polite">
        <ul class="carousel-track" id="carousel-track">
          {% if page.videos %}
            {% for video in page.videos %}
            <li class="carousel-slide{% if forloop.first and page.videos %} active{% endif %}" data-index="{{ forloop.index0 }}" role="group" aria-label="Vidéo {{ forloop.index }}">
              <div class="video-wrapper">
                {% assign embed = video | replace: 'watch?v=', 'embed/' %}
                <iframe src="{{ embed }}" frameborder="0" allowfullscreen></iframe>
              </div>
            </li>
            {% endfor %}
          {% endif %}
          
          {% if page.images %}
            {% for img in page.images %}
            {% assign slide_index = forloop.index0 | plus: page.videos.size %}
            <li class="carousel-slide{% if forloop.first and page.videos.size == 0 %} active{% endif %}" data-index="{{ slide_index }}" role="group" aria-label="Image {{ forloop.index }}">
              <img src="{{ img | relative_url }}" alt="{{ page.title }} - image {{ forloop.index }}">
            </li>
            {% endfor %}
          {% endif %}
        </ul>
      </div>
      <button class="carousel-btn next" aria-label="Média suivant" aria-controls="carousel-track">›</button>
    </div>
    <div class="carousel-indicators" role="tablist">
      {% assign total_media = page.videos.size | plus: page.images.size %}
      {% for i in (1..total_media) %}
      <button class="indicator{% if forloop.first %} active{% endif %}" data-index="{{ forloop.index0 }}" role="tab" aria-label="Aller au média {{ forloop.index }}" aria-selected="{% if forloop.first %}true{% else %}false{% endif %}"></button>
      {% endfor %}
    </div>
  </div>
</section>
{% endif %}

  {% if page.histoire %}
  <section class="article-item">
    <div>
      <h2>Histoire</h2>
      <div>{{ page.histoire | markdownify }}</div>
    </div>
  </section>
  {% endif %}

   {% if page.infos %}
  <section class="article-item">
    <div>
      <h2>Informations</h2>
      <div>{{ page.infos | markdownify }}</div>
    </div>
  </section>
  {% endif %}

</article>



<aside>

  <section class="boxshadow">
    <div>
    <h2>Contexte</h2>
    <div>{{ page.context | markdownify }}</div>
    </div>
  </section>

 
  <section class="boxshadow">
    <div>
    <h2>Notes techniques</h2>
    {% if page.notes %}
      <div>{{ page.notes | markdownify }}</div>
    {% endif %}
    {% if page.notes-tags %}
      <div class="notes-tags">
        {% for tag in page.notes-tags %}
          <span class="note-tag">{{ tag }}</span>
        {% endfor %}
      </div>
    {% endif %}
    </div>
  </section>


  {% if page.credits %}
  <section class="boxshadow">
    <div>
    <h2>Crédits</h2>
    <ul>
      {% for c in page.credits %}
        <li>{{ c }}</li>
      {% endfor %}
    </ul>
    </div>
  </section>
  {% endif %}

  {% if page.redirect %}
  <p class="project-link">Lien externe : <a href="{{ page.redirect }}" target="_blank">{{ page.redirect }}</a></p>
  {% endif %}

</aside>
</div>
</div>

<script src="{{ '/assets/js/project-carousel.js' | relative_url }}"></script>

